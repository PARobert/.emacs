;; --------------------------------------------------------------------------------
;; Filename : setup-title.el
;; Author : Pierre-Antoine ROBERT <pierre.antoine.ROBERT@ensae-paristech.fr>
;; 
;; Description : 
;; --------------------------------------------------------------------------------

;; --------------------------------------------------------------------------------
;;     Variables
;; --------------------------------------------------------------------------------

(defvar title-prefix-string " " "Prefix used as comment symbol for title.")

;; --------------------------------------------------------------------------------
;;     Functions
;; --------------------------------------------------------------------------------

(make-variable-buffer-local title-prefix-string)

(defun add-dash-line (&optional after)
  "Insert dashed line."
  (insert title-prefix-string)
  (insert-char ?- fill-column)
  (when after
    (insert after)))

(defun add-title (title)
  (interactive "sEnter the title : ")
  (add-dash-line "\n")
  (insert title-prefix-string "    " title "\n")
  (add-dash-line "\n"))

;; --------------------------------------------------------------------------------
;;     Key map
;; --------------------------------------------------------------------------------

(defun title-map ()
  (local-set-key (kbd "C-s-t") 'add-title)
  (local-set-key (kbd "C-s-l") '(add-dash-line "\n\n")))

(provide 'setup-title)
